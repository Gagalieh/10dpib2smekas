<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin — Kelas 11 DPIB 2</title>

  <!-- Icons -->
  <script src="https://unpkg.com/feather-icons"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="admin.css">

  <meta name="robots" content="noindex,nofollow">
</head>
<body class="admin-dark">

  <!-- TOPBAR -->
  <header class="topbar">
    <button id="hamburger" class="hamburger" aria-label="Toggle menu">
      <i data-feather="menu"></i>
    </button>
    <div class="topbar-title">Admin Panel — Kelas 11 DPIB 2</div>
    <div class="topbar-actions">
      <button id="openLoginBtn" class="btn ghost">Login</button>
      <button id="logoutBtn" class="btn ghost" style="display:none">Logout</button>
    </div>
  </header>

  <div class="layout">

    <!-- SIDEBAR -->
    <aside id="sidebar" class="sidebar">
      <nav class="menu">

        <div class="menu-section">
          <div class="menu-item" data-panel="panelDashboard">
            <i data-feather="grid"></i><span>Dashboard</span>
          </div>
        </div>

        <div class="menu-section">
          <div class="menu-item" data-panel="panelAddPhoto">
            <i data-feather="upload-cloud"></i><span>Tambah Foto</span>
          </div>
          <div class="menu-item" data-panel="panelManagePhotos">
            <i data-feather="image"></i><span>Kelola Foto</span>
          </div>
          <div class="menu-item" data-panel="panelTags">
            <i data-feather="tag"></i><span>Tags</span>
          </div>
        </div>

        <div class="menu-section">
          <div class="menu-item" data-panel="panelNews">
            <i data-feather="file-text"></i><span>News</span>
          </div>
          <div class="menu-item" data-panel="panelEvents">
            <i data-feather="clock"></i><span>Events</span>
          </div>
          <div class="menu-item" data-panel="panelMemories">
            <i data-feather="film"></i><span>Memories</span>
          </div>
        </div>

        <div class="menu-section">
          <div class="menu-item" data-panel="panelSiteSettings">
            <i data-feather="settings"></i><span>Site Settings</span>
          </div>
          <div class="menu-item" data-panel="panelStorage">
            <i data-feather="database"></i><span>Storage</span>
          </div>
          <div class="menu-item" data-panel="panelHelp">
            <i data-feather="help-circle"></i><span>Help</span>
          </div>
        </div>

      </nav>

      <div class="sidebar-footer">
        <div id="statusSummary" class="status-summary">Status: Ready</div>
      </div>
    </aside>

    <!-- MAIN -->
    <main class="main">

      <!-- DASHBOARD -->
      <section id="panelDashboard" class="panel">
        <div class="panel-grid">
          <div class="card stat"><div class="stat-title">Photos</div><div id="statPhotos" class="stat-value">—</div></div>
          <div class="card stat"><div class="stat-title">News</div><div id="statNews" class="stat-value">—</div></div>
          <div class="card stat"><div class="stat-title">Events</div><div id="statEvents" class="stat-value">—</div></div>
          <div class="card stat"><div class="stat-title">Memories</div><div id="statMemories" class="stat-value">—</div></div>

          <div class="card full">
            <h3>Quick Upload</h3>
            <div class="small muted">Upload cepat, tanpa detail</div>
            <div style="margin-top:12px;display:flex;gap:8px;align-items:center">
              <input id="quickFile" type="file" accept="image/*">
              <button id="quickUploadBtn" class="btn">Upload</button>
            </div>
          </div>

          <div class="card full">
            <h3>Storage</h3>
            <div class="muted small">Photos <span id="storagePhotosText">—</span></div>
            <div class="progress small"><div id="storagePhotosBar" class="bar"></div></div>

            <div style="height:10px"></div>

            <div class="muted small">News <span id="storageNewsText">—</span></div>
            <div class="progress small"><div id="storageNewsBar" class="bar"></div></div>
          </div>
        </div>
      </section>

      <!-- ADD PHOTO -->
      <section id="panelAddPhoto" class="panel hide">
        <div class="panel-head">
          <h2>Tambah Foto — Batch</h2>
          <div class="small muted">Upload banyak foto sekaligus</div>
        </div>

        <div class="card">
          <label class="input-file">
            <input id="photoFiles" type="file" accept="image/*" multiple>
            <div class="file-label">Klik untuk memilih (multiple)</div>
          </label>

          <div style="margin-top:12px">
            <button id="prepareBatch" class="btn">Muat Detail</button>
          </div>
        </div>

        <div id="batchDetail" class="batch-detail"></div>
      </section>

      <!-- MANAGE PHOTOS -->
      <section id="panelManagePhotos" class="panel hide">
        <div class="panel-head">
          <h2>Kelola Foto</h2>

          <div class="controls-row">

            <div class="input-row">
              <input id="manageSearch" class="input" placeholder="Cari judul atau deskripsi">
              <select id="manageFilterTag" class="input"></select>
              <button id="manageSearchBtn" class="btn">Cari</button>
              <button id="manageClearBtn" class="btn ghost">Reset</button>
            </div>

            <div class="bulk-actions">
              <button id="bulkSelectToggle" class="btn ghost">Bulk Select</button>
              <button id="bulkTagBtn" class="btn ghost">Bulk Tag</button>
              <button id="bulkDeleteBtn" class="btn ghost danger">Hapus Banyak</button>
            </div>

          </div>
        </div>

        <div id="managePhotosList" class="grid-photos"></div>

        <div id="managePhotosPager" class="pager hidden">
          <button id="managePrev" class="btn ghost">Prev</button>
          <div id="managePageInfo" class="small muted"></div>
          <button id="manageNext" class="btn ghost">Next</button>
        </div>
      </section>

      <!-- TAGS -->
      <section id="panelTags" class="panel hide">
        <div class="panel-head"><h2>Tags</h2></div>

        <div class="card">
          <div style="display:flex;gap:8px">
            <input id="newTagInput" class="input" placeholder="Nama tag">
            <button id="addTagBtn" class="btn">Tambah</button>
          </div>
        </div>

        <div id="tagListArea" class="tag-list card"></div>
      </section>

      <!-- NEWS -->
      <section id="panelNews" class="panel hide">
        <div class="panel-head"><h2>News</h2></div>

        <div class="card">
          <input id="newsTitle" class="input" placeholder="Judul">
          <textarea id="newsContent" class="input" rows="6" placeholder="Isi berita"></textarea>

          <label class="input-file small">
            <input id="newsCover" type="file" accept="image/*">
            <div class="file-label">Cover (opsional)</div>
          </label>

          <div style="display:flex;gap:8px;margin-top:10px">
            <button id="addNewsBtn" class="btn">Tambah</button>
            <button id="clearNewsBtn" class="btn ghost">Reset</button>
          </div>
        </div>

        <div id="newsListArea" class="list-vertical card"></div>
      </section>

      <!-- EVENTS -->
      <section id="panelEvents" class="panel hide">
        <div class="panel-head"><h2>Events</h2></div>

        <div class="card">
          <input id="eventTitle" class="input" placeholder="Judul event">
          <input id="eventDate" class="input" type="date">

          <div style="display:flex;gap:8px;margin-top:10px">
            <button id="addEventBtn" class="btn">Tambah</button>
            <button id="clearEventBtn" class="btn ghost">Reset</button>
          </div>
        </div>

        <div id="eventsListArea" class="list-vertical card"></div>
      </section>

      <!-- MEMORIES -->
      <section id="panelMemories" class="panel hide">
        <div class="panel-head"><h2>Memories</h2></div>

        <!-- ADD MEMORY -->
        <div class="card">
          <input id="memoryTitle" class="input" placeholder="Judul memory">
          <textarea id="memoryDesc" class="input" rows="3" placeholder="Deskripsi singkat"></textarea>

          <label class="input-file small">
            <input id="memoryFiles" type="file" accept="image/*" multiple>
            <div class="file-label">Pilih foto memory</div>
          </label>

          <div style="display:flex;gap:8px;margin-top:8px;align-items:center">
            <input id="memoryDate" class="input" type="date" style="width:180px">
            <input id="memoryOrder" class="input" type="number" placeholder="Urut (angka)" style="width:130px">
            <button id="addMemoryBtn" class="btn">Tambah Memory</button>
            <button id="clearMemoryBtn" class="btn ghost">Reset</button>
          </div>
        </div>

        <!-- MANAGE MEMORY -->
        <div class="card" style="margin-top:16px">
          <h3 style="margin-bottom:10px">Kelola Memories</h3>
          <div id="memoriesAdminList" class="list-vertical"></div>
        </div>

      </section>

      <!-- SITE SETTINGS -->
      <section id="panelSiteSettings" class="panel hide">
        <div class="panel-head"><h2>Site Settings</h2></div>

        <div class="card">
          <h4>Hero</h4>
          <input id="siteHeroTitle" class="input" placeholder="Hero title">
          <input id="siteHeroSubtitle" class="input" placeholder="Hero subtitle">

          <label class="input-file small">
            <input id="siteHeroImage" type="file" accept="image/*">
            <div class="file-label">Hero image</div>
          </label>

          <div style="display:flex;gap:8px;margin-top:8px">
            <button id="saveHeroBtn" class="btn">Simpan</button>
            <button id="resetHeroBtn" class="btn ghost">Reset</button>
          </div>
        </div>

        <div class="card">
          <h4>Footer</h4>
          <textarea id="siteFooterText" class="input" rows="2" placeholder="Footer text"></textarea>

          <div style="display:flex;gap:8px;margin-top:8px">
            <button id="saveFooterBtn" class="btn">Simpan</button>
            <button id="resetFooterBtn" class="btn ghost">Reset</button>
          </div>
        </div>
      </section>

      <!-- STORAGE -->
      <section id="panelStorage" class="panel hide">
        <div class="panel-head"><h2>Storage Monitor</h2></div>

        <div class="card">
          <div class="muted small">Photos</div>
          <div class="progress small"><div id="storagePhotosBar" class="bar"></div></div>
          <div class="small muted" style="margin-top:4px">Usage: <span id="storagePhotosText">—</span></div>

          <div style="height:12px"></div>

          <div class="muted small">News</div>
          <div class="progress small"><div id="storageNewsBar" class="bar"></div></div>
        </div>
      </section>

      <!-- HELP -->
      <section id="panelHelp" class="panel hide">
        <div class="panel-head"><h2>Help</h2></div>
        <div id="helpContent" class="card help-content"></div>
      </section>

    </main>
  </div>

  <!-- LOGIN OVERLAY -->
  <div id="loginOverlay" class="overlay hide" aria-hidden="true">
    <div class="login-card card">
      <button id="loginCloseBtn" class="btn ghost small close">×</button>
      <h3>Admin Login</h3>
      <input id="loginEmail" class="input" placeholder="Email">
      <input id="loginPassword" class="input" placeholder="Password" type="password">
      <div style="display:flex;gap:8px;margin-top:10px">
        <button id="loginBtn" class="btn">Masuk</button>
      </div>
    </div>
  </div>

  <script type="module" src="./config.js"></script>
  <script type="module" src="./admin.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => { if (window.feather) feather.replace(); });
  </script>

</body>
</html>